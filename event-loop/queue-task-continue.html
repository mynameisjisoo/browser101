<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<style>
    button{
        font-size: 38px;
    }
    button:hover {
        background-color: antiquewhite;
        cursor: pointer;
    }
</style>
<body>
    <button>Continue with setTimeout</button>
    <script>
        function handleClick(){
            console.log('handleClick');
            setTimeout(() => {
                console.log('setTimeout');
                handleClick();
            }, 0);
        }
        const button = document.querySelector('button');
        button.addEventListener('click',()=>{
            handleClick();
        })
    </script>
    <!--setTimeout은 Task queue를 이용-->
    
    <!-- event loop는 task queue에서는 콜백을 한개만 call stack으로 가져오고 call stack이 끝나면 가던 순회길을 시작해서 중간중간 render를 하고 
        다시 task queue로 가서 콜백을 한개 가져다가 call stack을 넣고를 반복
        코드가 무한 반복되고 있음에도 불구하고 이벤트 루프가 가끔 render쪽으로 가기 때문에 hover가 되었을 떄 버튼 하이라이트를 바꿔주는 등 
        무한 반복 도중에도 다양한 이벤트 처리(render) 가능함-->

    <!--setTimeout(0): call stack 안에서 이 코드블럭이 실행되는 이 순간 말고 이게 끝나고 event loop가 한 바퀴 돌 때, 그 다음에 이 코드블럭을 실행하도록 할 떄 많이 씀-->
    </body>
</html>