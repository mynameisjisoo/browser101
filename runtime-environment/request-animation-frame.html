<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<style>
    button{
        font-size: 38px;
    }
    button:hover {
        background-color: antiquewhite;
        cursor: pointer;
    }
</style>
<body>
    <button>RequestAnimationFrame</button>
    <script>
        const button = document.querySelector('button');
        button.addEventListener('click', ()=>{
            requestAnimationFrame(()=>{  
                document.body.style.backgroundColor = 'beige';
            })
            requestAnimationFrame(()=>{
                document.body.style.backgroundColor = 'orange';
            })
            requestAnimationFrame(()=>{
                document.body.style.backgroundColor = 'red';
            })
        })
    </script>
    <!--requestAnimationFrame = 웹 API, 브라우저에서 다음 렌더링이 발생하기 전에 이 콜백이 수행되도록 함
     (브라우저 다음 화면 업뎃 전에 내가 등록한 콜백함수를 수행해줘!)

     클릭이벤트 발생 => 콜백이 task queue에 올라감 => event loop가 call back을 call stack에 보냄 
     => 코드 내용에 따라 ~beige, ~orange, ~red 의 코드가 request animation frame으로 옮겨짐
     => RAF도 queue 구조이기 때문에 beige, orange, red 순서대로 실행이 되고 최종적으로 마지막인 red가 적용된 상태로 rendering 과정 거쳐서 브라우저에 표기됨
    
    RAF : 지금 클릭 리스너가 수행 될 때는 코드를 변경하지 않고, 나중에 브라우저가 화면을 업데이트 하기 전에 우리가 등록한 변경 사항을 적용해 넣는 것
     (= 지금 클릭이 발생한 지점에는 코드를 변경하지 않아도 되는데 나중에 브라우저가 업뎃 되기 전에 코드를 수행 해 줘!)
    -->
</body>
</html>